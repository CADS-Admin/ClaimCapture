@(normalResidenceAndCurrentLocationForm: Form[models.domain.NormalResidenceAndCurrentLocation])(implicit claim: models.domain.Claim)

@import helper._
@import utils.helpers.CarersTemplate._
@import views.html.helper.base._

@main("Normal Residence and Current Location - Time Spent Abroad", normalResidenceAndCurrentLocationForm) {
    @form(action = controllers.s5_time_spent_abroad.routes.G1NormalResidenceAndCurrentLocation.submit) {
        <fieldset class="form-elements">
            <legend>Your normal residence &amp; current location</legend>

            <ul class="group">
                @yesNoRadioGroup(normalResidenceAndCurrentLocationForm("normallyLiveInUK"))

                @carersInputText(normalResidenceAndCurrentLocationForm("whereDoYouNormallyLive"), 'maxLength -> "60")

                @yesNoRadioGroup(normalResidenceAndCurrentLocationForm("inGBNow"))
            </ul>
        </fieldset>

        <div class="form-steps">
            <a href="../about/carers-about1.html" class="button secondary">Back</a>
            <button type="submit" name="action" value="next" class="button">Next</button>
        </div>
    }
}

<script type="text/javascript">
    $(function() {
        @if(normalResidenceAndCurrentLocationForm("normallyLiveInUK").value.getOrElse("") != "no") {
            $("#whereDoYouNormallyLive").closest("li").hide();
        }

        $("#normallyLiveInUK_no").change(function() {
            if ($(this).val() === "no") {
                return $(this).closest("ul").parent().next().slideDown();
            }
        });

        return $("#normallyLiveInUK_yes").change(function() {
            if ($(this).val() === "yes") {
                return $(this).closest("ul").parent().next().slideUp();
            }
        });
    });
</script>