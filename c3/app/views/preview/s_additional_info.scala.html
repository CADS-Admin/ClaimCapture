@()(implicit claim: models.domain.Claim, request: Request[AnyContent], lang: Lang, messages: play.api.i18n.Messages)

@import models.domain._
@import play.api.i18n.Messages
@import controllers.mappings.Mappings._
@import helper._

@additionalInfo = @{claim.questionGroup[AdditionalInfo].getOrElse(AdditionalInfo())}
@additionalInfoAnswer = @{
    additionalInfo.anythingElse.answer match {
        case `yes` => messages("label.yes") + " - " + messages("detailsProvided.simple")
        case _ => messages("label.no")
    }
}
@additionalInfoWelsh = @{messages("label." + additionalInfo.welshCommunication)}
@disableChangeButton = @{
    !app.ConfigProperties.getProperty("cyaToggleVisible",true)
}
@content = {
    @fieldWithLink("additional_info" , "anythingElse.answer", additionalInfoAnswer, elementId = Some("anythingElse_answer"), disableLink = disableChangeButton)
    @fieldWithLink("additional_info_welsh" , "welshCommunication", additionalInfoWelsh, elementId = Some("welshCommunication"), disableLink = disableChangeButton)
}

@accordion(label = messages("s10_2.g1"), openLabel = "open-additional-info", closeLabel = "close-additional-info", content = content, 'track -> true)
