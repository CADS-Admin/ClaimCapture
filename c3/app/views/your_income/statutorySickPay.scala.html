@(currentForm: Form[models.domain.StatutorySickPay])(implicit claim: models.domain.Claim,lang: Lang,request: Request[AnyContent], flash:Flash, messages: play.api.i18n.Messages)

@import utils.helpers.CarersCrypto
@import utils.csrf.DwpCSRFFormHelper
@import views.html.helper.dates._
@import scala.language.postfixOps
@import app.StatutoryPaymentFrequency._
@import utils.helpers.CarersTemplate._
@import views.html.helper._
@import views.html.helper.base._

@listOfOptions = @{
    Seq(Weekly -> messages("weekly"),
        Fortnightly -> messages("fortnightly"),
        FourWeekly -> messages("fourWeekly"),
        Monthly -> messages("monthly"),
        ItVaries -> messages("itVaries"))
}

@main(messages("s7.g1")+ " " + messages("s18.g1"), messages("s7.g1")+ " - " + messages("s18.g1"), Some(currentForm)) {
    @form(action = controllers.your_income.routes.GStatutorySickPay.submit, 'role -> "form") {

        @DwpCSRFFormHelper.formField

        <fieldset class="form-elements">
            <legend class="visuallyhidden">@Html(messages("s7.g1"))</legend>

            <ul>
                @yesNoRadioGroup(currentForm("stillBeingPaidStatutorySickPay"))

                @otherDetailPlaceHolder(
                    inputDef = Seq(
                        inputDayMonthYear(currentForm("whenDidYouLastGetPaid"))
                    ),
                    'id -> "stillBeingPaidStatutorySickPayWrap"
                )

                @carersInputText(currentForm("whoPaidYouStatutorySickPay"), 'maxLength -> mappings.Mappings.sixty)

                @carersCurrency(currentForm("amountOfStatutorySickPay"), 'maxLength -> mappings.Mappings.twelve)

                @listRadioGroup(currentForm("howOftenPaidStatutorySickPay"),
                    'items -> listOfOptions,
                    '_nestedFieldSet -> true,
                    'track -> true,
                    'ignoreOptional -> true)

                @otherDetailPlaceHolder(
                    inputDef = Seq(
                        carersInputText(currentForm("howOftenPaidStatutorySickPayOther"),
                            '_label -> messages("howOftenPaidStatutorySickPayOther"),
                            'maxLength -> 60)
                    ),
                    'id -> "howOftenPaidStatutorySickPayWrap"
                )
            </ul>
        </fieldset>

        @views.html.common.bottomNavigation(customTrack = Some(views.html.ga.trackSubmit(isOptional=true)))

    }

    <script type="text/javascript" @views.html.common.nonCachingSrc("javascripts/your_income/statutorySickPay.js")></script>
    <script type="text/javascript">
        $(function() {
            conditionRequired = function(){
                return $("#"+"@CarersCrypto.encryptAES("stillBeingPaidStatutorySickPay_no")").is(':checked');
            };
            window.initStatutorySickPayEvents(
                "@CarersCrypto.encryptAES("stillBeingPaidStatutorySickPay_yes")",
                "@CarersCrypto.encryptAES("stillBeingPaidStatutorySickPay_no")",
                "@CarersCrypto.encryptAES("whenDidYouLastGetPaid_day")",
                "@CarersCrypto.encryptAES("whenDidYouLastGetPaid_month")",
                "@CarersCrypto.encryptAES("whenDidYouLastGetPaid_year")",
                "@CarersCrypto.encryptAES("howOftenPaidStatutorySickPay_Other")",
                "@CarersCrypto.encryptAES("howOftenPaidStatutorySickPay")",
                "@ItVaries",
                "@CarersCrypto.encryptAES("howOftenPaidStatutorySickPayOther")"
            );
        })
    </script>
}